<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>1 Lion Esports — Registration</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
  <style>
    :root {--gold: #ffd24d;--gold-deep:#e6b800;}
    * {box-sizing: border-box;}
    body {
      margin: 0; font-family: 'Orbitron', sans-serif;
      background: linear-gradient(180deg,#030409 0%,#07070a 100%);
      color: #fff; min-height: 100vh; display: flex;
      flex-direction: column; align-items: center; padding: 20px;
    }
    header {text-align:center; margin-top:20px;}
    header img { width:108px; border-radius:18px; }
    h1 { margin: 12px 0 6px; color: var(--gold); font-size:24px; }
    .card {
      background: rgba(0,0,0,0.7);
      border-radius:14px; padding:18px; max-width:400px; margin-top:28px; width:100%;
      border:1px solid rgba(255,215,0,0.2);
    }
    input {
      width:100%; padding:12px; margin:10px 0; border-radius:8px;
      background: rgba(0,0,0,0.15); border:1px solid rgba(255,215,0,0.2);
      color:#fff; text-align:center;
    }
    .btn {
      width:100%; padding:12px; border:none; border-radius:8px;
      background:linear-gradient(90deg,var(--gold), var(--gold-deep));
      color: #071218; font-weight:700; cursor:pointer;
      margin-top:10px;
    }
    .status { display:none; margin-top:12px; color:#bdf1a9; }
    .wa-link {
      display:none; margin-top:14px; font-size:14px;
      background:#25D366; color:#012; padding:10px 12px;
      border-radius:8px; text-decoration:none; font-weight:600;
    }
  </style>
</head>
<body>

  <header>
    <img src="https://i.postimg.cc/23d0f0rK/logo.png" alt="1 Lion Logo">
    <h1>1 LION ESPORTS — Registration</h1>
    <p>Pay ₹30 (UPI: 6370027283@fam). After payment, send screenshot on WhatsApp to confirm your slot.</p>
  </header>

  <div class="card">
    <input id="name" type="text" placeholder="Player Name" />
    <input id="gameID" type="text" placeholder="Free Fire UID" />
    <input id="phone" type="tel" placeholder="Phone (WhatsApp)" />
    <button id="submitBtn" class="btn">Pay ₹30 & Register</button>
    <div id="status" class="status"></div>
    <a id="waLink" class="wa-link" target="_blank">Message Admin on WhatsApp</a>
  </div>

<script>
  const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbx5Qs122hZMsSukOV1EdQIyrRRtohbU_vNe2eLi1IBGPJuNa-tLU3pFVfrwtySdc6l10Q/exec";
  const UPI_ID = "6370027283@fam";
  const AMOUNT = "30";
  const ADMIN_WA = "916370027283";

  const btn = document.getElementById('submitBtn');
  const status = document.getElementById('status');
  const waLink = document.getElementById('waLink');

  btn.addEventListener('click', async () => {
    const name = document.getElementById('name').value.trim();
    const gameID = document.getElementById('gameID').value.trim();
    const phone = document.getElementById('phone').value.trim();
    if (!name || !gameID || !phone) { alert('Please fill all fields'); return; }

    status.style.display = 'block';
    status.textContent = 'Saving registration...';

    const form = new URLSearchParams();
    form.append('name', name);
    form.append('gameID', gameID);
    form.append('phone', phone);
    form.append('paymentStatus', 'Pending');

    try {
      const res = await fetch(WEB_APP_URL, { method: 'POST', body: form });
      const data = await res.json();

      if (data.success) {
        status.textContent = 'Saved. Opening UPI...';
        waLink.style.display = 'inline-block';
        waLink.href = `https://wa.me/${ADMIN_WA}?text=${encodeURIComponent("Paid ₹"+AMOUNT+" for tournament. Name: "+name+" UID: "+gameID+". Please confirm.")}`;
        const upi = `upi://pay?pa=${encodeURIComponent(UPI_ID)}&pn=${encodeURIComponent('1 LION ESPORTS')}&am=${encodeURIComponent(AMOUNT)}&cu=INR`;
        setTimeout(() => window.location.href = upi, 800);
      } else {
        status.textContent = 'Error saving. Contact admin.';
        waLink.style.display = 'inline-block';
        waLink.href = `https://wa.me/${ADMIN_WA}`;
      }
    } catch (err) {
      console.error(err);
      status.textContent = 'Network error. Contact admin.';
      waLink.style.display = 'inline-block';
      waLink.href = `https://wa.me/${ADMIN_WA}`;
    }
  });
</script>

</body>
</html>
